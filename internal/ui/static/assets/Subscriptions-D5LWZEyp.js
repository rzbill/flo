import{z as o,j as s,C as m,a as h,b as u,d as j,T as g,e as b,f as r,g as i,h as N,R as p,i as a}from"./index-Dl3YmGhg.js";function T({namespace:n,stream:c}){const{data:x,isLoading:l,error:d}=o(n,c);return s.jsx("div",{className:"h-full p-6",children:s.jsxs(m,{className:"h-full",children:[s.jsx(h,{children:s.jsx(u,{className:"text-sm",children:"Subscriptions & Lag"})}),s.jsxs(j,{children:[l&&s.jsx("div",{className:"text-sm text-muted-foreground",children:"Loadingâ€¦"}),d&&s.jsx("div",{className:"text-sm text-red-600",children:"Failed to load subscriptions"}),!l&&!d&&s.jsxs(g,{children:[s.jsx(b,{children:s.jsxs(r,{children:[s.jsx(i,{children:"Group"}),s.jsx(i,{className:"text-right",children:"Active Subscribers"}),s.jsx(i,{className:"text-right",children:"Total Lag"})]})}),s.jsx(N,{children:(x?.groups||[]).map(e=>s.jsxs(p.Fragment,{children:[s.jsxs(r,{children:[s.jsx(a,{className:"font-medium",children:e.name}),s.jsx(a,{className:"text-right",children:e.active_subscribers??0}),s.jsx(a,{className:"text-right",children:e.total_lag??0})]}),(e.partitions||[]).map(t=>s.jsxs(r,{className:"bg-muted/30",children:[s.jsxs(a,{className:"pl-6 text-xs text-muted-foreground",children:["Partition ",t.partition]}),s.jsxs(a,{className:"text-right text-xs text-muted-foreground",children:["Cursor ",t.cursor_seq," / End ",t.end_seq]}),s.jsxs(a,{className:"text-right text-xs text-muted-foreground",children:["Lag ",t.lag]})]},`${e.name}-${t.partition}`))]},e.name))})]})]})]})})}export{T as default};
